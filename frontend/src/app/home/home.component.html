<div class="image-container">
  <img
    class="imageincontainer"
    src="/assets/logos/logo_full_fitting.png"
    alt="Zeitvertreib Logo"
    width="100px"
  />
</div>
<div class="welcome-container">
  <!-- Playerlist Section - Full Width at Top (Hidden when empty) -->
  <div
    *ngIf="!isLoading && players.length > 0"
    pAnimateOnScroll
    enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
    class="playerlist-section-top"
  >
    <div class="playerlist-card">
      <!-- Header -->
      <div class="playerlist-header">
        <h3 class="text-xl font-bold text-white flex items-center gap-2">
          <span>ðŸ‘¥ Live Spielerliste</span>
          <span class="live-indicator"></span>
        </h3>
        <div class="playerlist-stats">
          <div class="stat-badge">
            <span class="stat-value">{{ playerCount }}</span>
            <span class="stat-label">Online</span>
          </div>
          <div class="stat-badge alive" *ngIf="aliveCount > 0">
            <span class="stat-value">{{ aliveCount }}</span>
            <span class="stat-label">Am Leben</span>
          </div>
        </div>
      </div>

      <!-- Loading State -->
      <div *ngIf="isLoading" class="playerlist-empty">
        <div class="loading-spinner"></div>
        <p class="text-white mt-4">Lade Spielerdaten...</p>
      </div>

      <!-- Player List -->
      <div
        *ngIf="!isLoading && players.length > 0"
        class="playerlist-content-full"
      >
        <!-- Alive Players -->
        <div *ngIf="alivePlayers.length > 0" class="player-group-full">
          <div class="group-header-full alive">
            <span class="group-icon">ðŸ’š</span>
            <span class="group-title">Am Leben</span>
            <span class="group-count">{{ aliveCount }}</span>
          </div>
          <div class="player-grid-full">
            <div
              *ngFor="let player of alivePlayers"
              class="player-item-full alive"
            >
              <div class="player-info-full">
                <div class="player-name-wrapper">
                  <img
                    *ngIf="player.AvatarUrl"
                    [src]="player.AvatarUrl"
                    [alt]="player.Name"
                    class="player-avatar-small"
                  />
                  <span class="player-name-full">{{ player.Name }}</span>
                </div>
                <span class="player-team-full" [attr.data-team]="player.Team">
                  {{ player.Team }}
                </span>
              </div>
              <div class="player-health-full">
                <span class="health-value-full">{{
                  player.Health | number: '1.0-0'
                }}</span>
                <span class="health-label-full">HP</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Dead Players -->
        <div *ngIf="deadPlayers.length > 0" class="player-group-full">
          <div class="group-header-full dead">
            <span class="group-icon">ðŸ’€</span>
            <span class="group-title">Tot</span>
            <span class="group-count">{{ deadPlayers.length }}</span>
          </div>
          <div class="player-grid-full collapsed">
            <div
              *ngFor="let player of deadPlayers"
              class="player-item-full dead"
            >
              <span class="player-name-full">{{ player.Name }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div *ngIf="!isLoading && players.length > 0" class="playerlist-footer">
        <span class="footer-text">ðŸ”„ Aktualisiert alle 10 Sekunden</span>
      </div>
    </div>
  </div>

  <!-- Spacer after playerlist (only when visible) -->
  <div *ngIf="!isLoading && players.length > 0" class="playerlist-spacer"></div>

  <p-card header="Was ist Zeitvertreib?">
    <p class="leading-relaxed">
      Zeitvertreib ist ein anfÃ¤ngerfreundlicher Server fÃ¼r das Spiel
      <strong>SCP: Secret Laboratory</strong> auf Steam. Unser Ziel ist es,
      neuen Spieler:innen den Einstieg in die Welt von SCP: Secret Laboratory zu
      erleichtern und gleichzeitig erfahrenen Spieler:innen ein erweitertes und
      komfortableres Spielerlebnis zu bieten.
    </p>
  </p-card>

  <div class="h-10rem"></div>
  <div class="flex flex-wrap justify-center gap-8">
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      class="flex flex-col bg-primary/15 backdrop-blur-md text-primary-contrast border-primary shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full border-2 border-white w-12 h-12 flex items-center justify-center"
      >
        <i class="pi pi-map-marker text-2xl"></i>
      </div>
      <span class="text-2xl font-bold">Standort</span>
      <span class="text-center"
        >Server in NÃ¼rnberg - zentral in Deutschland, nah an Ã–sterreich.</span
      >
    </div>
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-75 animate-duration-1000"
      class="flex flex-col bg-primary/15 backdrop-blur-md text-primary-contrast border-primary shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full border-2 border-white w-12 h-12 flex items-center justify-center"
      >
        <i class="pi pi-crown text-2xl"></i>
      </div>
      <span class="text-2xl font-bold">Gameplay</span>
      <span class="text-center"
        >Vanilla Feeling mit sinnvollen QoL-Plugins - perfekt abgestimmt.</span
      >
    </div>
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      class="flex flex-col bg-primary/15 backdrop-blur-md text-primary-contrast border-primary shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full border-2 border-white w-12 h-12 flex items-center justify-center"
      >
        <i class="pi pi-shield text-2xl"></i>
      </div>
      <span class="text-2xl font-bold">Moderation</span>
      <span class="text-center"
        >Unser aktives Team sorgt fÃ¼r Fairness und schnelle Hilfe.</span
      >
    </div>
  </div>

  <div class="h-5rem"></div>
  <div class="flex flex-wrap justify-center gap-8">
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      class="flex flex-col bg-primary/15 backdrop-blur-md text-primary-contrast border-primary shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <span class="bg-white/20 text-xl font-medium rounded-xl px-4 py-2"
        >300+</span
      >
      <span class="text-2xl font-bold">Spieler</span>
      <span class="text-center"
        >TÃ¤glich kommen neue Spieler auf unseren Discord!</span
      >
    </div>
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      class="flex flex-col bg-primary/15 backdrop-blur-md text-primary-contrast border-primary shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <span class="bg-white/20 text-xl font-medium rounded-xl px-4 py-2"
        >2</span
      >
      <span class="text-2xl font-bold">Server</span>
      <span class="text-center"
        >Ein zweiter Server steht immer als Backup bereit.</span
      >
    </div>
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      class="flex flex-col bg-primary/15 backdrop-blur-md text-primary-contrast border-primary shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <span class="bg-white/20 text-xl font-medium rounded-xl px-4 py-2"
        >4+</span
      >
      <span class="text-2xl font-bold">Jahre</span>
      <span class="text-center"
        >Unser Projekt besteht seit Ã¼ber vier Jahren!</span
      >
    </div>
  </div>

  <p-galleria
    pAnimateOnScroll
    enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
    class="my-8"
    [value]="images"
    [autoPlay]="true"
    [circular]="true"
    [responsiveOptions]="responsiveOptions"
    [numVisible]="5"
  >
    <ng-template #item let-item>
      <img
        [src]="'/assets/showcase/full/' + item"
        style="width: 100%; display: block"
      />
    </ng-template>
    <ng-template #thumbnail let-item>
      <img
        [src]="'/assets/showcase/tiny/' + item"
        style="width: 100px; display: block"
      />
    </ng-template>
  </p-galleria>
</div>
